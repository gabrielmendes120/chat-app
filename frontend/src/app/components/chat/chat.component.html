<div class="container mt-3">
  <div>
    <div class="grid-container">
      <div class="users" #scrollUsers [scrollTop]="scrollUsers.scrollHeight">
        <h3 class="text-center">Users Online - {{ infoUsersOnline.length }}</h3>
        <hr />
        <div class="mb-2" *ngFor="let user of infoUsersOnline">
          <label class="rounded-circle">
            <img
              class="mr-2"
              [src]="user.imageBase64 | safeHtml"
              height="30px"
              width="30px"
            />
          </label>
          <label>
            {{ user.username }}
          </label>
          <hr />
        </div>
      </div>
      <div
        class="chat rounded"
        #scrollChat
        [scrollTop]="scrollChat.scrollHeight"
      >
        <div
          [ngClass]="{
            'text-right': message.username != infoUser.username,
            'text-left': message.username === infoUser.username
          }"
          class="rounded"
          *ngFor="let message of messages"
        >
          <span class="message-username">
            {{ message.username }} {{ message.today | date: "hh:mm" }}
          </span>
          <label class="rounded-circle">
            <img
              class="mr-2"
              [src]="message.imageBase64 | safeHtml"
              height="30px"
              width="30px"
            />
          </label>
          <label class="message">
            {{ message.message }}
          </label>
        </div>
      </div>
      <div class="type-message rounded">
        <div class="input-group mb-3">
          <textarea
            type="text"
            class="form-control"
            placeholder="Type a message here"
            [(ngModel)]="message" rows="1"></textarea>
          <div class="input-group-append">
            <button
              class="btn btn-outline-primary"
              type="button"
              (click)="sendMessage()"
            >
              <mat-icon class="mt-1" aria-hidden="false">send</mat-icon>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
